import React from "react";
import Head from "next/head";
import styles from "../styles/Layout.module.css";
import "antd/dist/antd.css";
import InfluencerCarousel from "../components/InfluencerCarousel";

export default function Home({ influencers }) {
  return (
    <div className={styles.container}>
      <Head>
        <title>Profiler</title>
        <meta name="description" content="Generated by create next app" />
        <link rel="icon" href="/favicon.ico" />
      </Head>

      <main className={styles.main}>
        <InfluencerCarousel
          influencers={influencers}
          title="Top Influencers"
          color="#0070f3"
          path="/top-influencers"
        />

        <InfluencerCarousel
          influencers={influencers}
          title="Top Change Drivers"
          color="#1ABC9C"
          path="/top-change-drivers"
        />

        <InfluencerCarousel
          influencers={influencers}
          title="High Engagment Superstars"
          color="#0070f3"
          path="/high-engagement-superstars"
        />

        <InfluencerCarousel
          influencers={influencers}
          title="Top Authorities"
          color="#1ABC9C"
          path="/top-authorities"
        />
      </main>
    </div>
  );
}

export const getStaticProps = async () => {
  const res = await fetch(`http://localhost:8000/influencers`);
  const influencers = await res.json();
  return {
    props: {
      influencers,
    },
  };
};
